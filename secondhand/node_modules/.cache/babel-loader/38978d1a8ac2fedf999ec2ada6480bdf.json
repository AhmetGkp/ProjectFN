{"ast":null,"code":"import { login, logout } from \"../api/Api\";\nexport const signInMiddleware = store => next => action => {\n  if (action.type === \"SIGN_IN\") {\n    console.log(\"singin\");\n    login(action.payload).then(response => {\n      if (response.data.message === \"user logged in\") {\n        store.dispatch({\n          type: \"SIGN_IN\",\n          payload: action.payload\n        });\n      } else {\n        alert(\"Could not login!\");\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n};\nexport const signOutMiddleware = store => next => action => {\n  if (action.type === \"SIGN_OUT\") {\n    logout().then(response => {\n      console.log(response);\n      next(action);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n};","map":{"version":3,"sources":["/home/tolga/VS Code workspace/BrukthÃ¥nd/secondhand/src/middleware/LoginMiddleware.js"],"names":["login","logout","signInMiddleware","store","next","action","type","console","log","payload","then","response","data","message","dispatch","alert","catch","err","signOutMiddleware"],"mappings":"AAAA,SAASA,KAAT,EAAgBC,MAAhB,QAA8B,YAA9B;AAEA,OAAO,MAAMC,gBAAgB,GAAGC,KAAK,IAAIC,IAAI,IAAIC,MAAM,IAAI;AACvD,MAAGA,MAAM,CAACC,IAAP,KAAgB,SAAnB,EAA6B;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAR,IAAAA,KAAK,CAACK,MAAM,CAACI,OAAR,CAAL,CACKC,IADL,CACUC,QAAQ,IAAI;AACd,UAAGA,QAAQ,CAACC,IAAT,CAAcC,OAAd,KAA0B,gBAA7B,EAA8C;AAC1CV,QAAAA,KAAK,CAACW,QAAN,CAAe;AAACR,UAAAA,IAAI,EAAC,SAAN;AAAiBG,UAAAA,OAAO,EAAEJ,MAAM,CAACI;AAAjC,SAAf;AACH,OAFD,MAEO;AACHM,QAAAA,KAAK,CAAC,kBAAD,CAAL;AACH;AACJ,KAPL,EAQKC,KARL,CAQWC,GAAG,IAAI;AACVV,MAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACH,KAVL;AAWH;AACJ,CAfM;AAiBP,OAAO,MAAMC,iBAAiB,GAAGf,KAAK,IAAIC,IAAI,IAAIC,MAAM,IAAI;AACxD,MAAGA,MAAM,CAACC,IAAP,KAAgB,UAAnB,EAA8B;AAC1BL,IAAAA,MAAM,GACDS,IADL,CACUC,QAAQ,IAAI;AACdJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ;AACAP,MAAAA,IAAI,CAACC,MAAD,CAAJ;AACH,KAJL,EAKKW,KALL,CAKWC,GAAG,IAAI;AACVV,MAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACH,KAPL;AAQH;AACJ,CAXM","sourcesContent":["import { login, logout } from \"../api/Api\";\n\nexport const signInMiddleware = store => next => action => {\n    if(action.type === \"SIGN_IN\"){\n        console.log(\"singin\")\n        login(action.payload)\n            .then(response => {\n                if(response.data.message === \"user logged in\"){\n                    store.dispatch({type:\"SIGN_IN\", payload: action.payload})\n                } else {\n                    alert(\"Could not login!\")\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            })\n    }    \n}\n\nexport const signOutMiddleware = store => next => action => {\n    if(action.type === \"SIGN_OUT\"){\n        logout()\n            .then(response => {\n                console.log(response);\n                next(action)\n            })\n            .catch(err => {\n                console.log(err);\n            })\n    }    \n}"]},"metadata":{},"sourceType":"module"}