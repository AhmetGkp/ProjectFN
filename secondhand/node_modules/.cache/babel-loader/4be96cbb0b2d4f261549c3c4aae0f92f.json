{"ast":null,"code":"import axios from 'axios';\nimport { serverApi } from '../config/cfg.js';\nvar isLoggedIn = false;\nconst instanceAxs = axios.create({\n  baseURL: serverApi,\n  withCredentials: true\n});\n\nconst login = async user => {\n  instanceAxs.post('/login', this.state.user).then(response => {\n    console.log(response);\n    this.setState({\n      message: response.data.message\n    });\n    this.props.history.push('/');\n  });\n};\n\nconst checkLogin = async () => {\n  await instanceAxs.get('/checklogin').then(result => {\n    let response = result.data.message;\n\n    if (response === \"user logged in\") {\n      isLoggedIn = true;\n    } else {\n      isLoggedIn = false;\n    }\n\n    console.log(result);\n    return response;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nexport { isLoggedIn, instanceAxs, checkLogin };","map":{"version":3,"sources":["/home/tolga/VS Code workspace/BrukthÃ¥nd/secondhand/src/api/Api.js"],"names":["axios","serverApi","isLoggedIn","instanceAxs","create","baseURL","withCredentials","login","user","post","state","then","response","console","log","setState","message","data","props","history","push","checkLogin","get","result","catch","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,SAAT,QAA0B,kBAA1B;AAEA,IAAIC,UAAU,GAAG,KAAjB;AAEA,MAAMC,WAAW,GAAGH,KAAK,CAACI,MAAN,CAAa;AAC7BC,EAAAA,OAAO,EAAEJ,SADoB;AAE7BK,EAAAA,eAAe,EAAE;AAFY,CAAb,CAApB;;AAKA,MAAMC,KAAK,GAAG,MAAOC,IAAP,IAAgB;AAC1BL,EAAAA,WAAW,CAACM,IAAZ,CAAiB,QAAjB,EAA2B,KAAKC,KAAL,CAAWF,IAAtC,EACKG,IADL,CACUC,QAAQ,IAAI;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,SAAKG,QAAL,CAAc;AAAEC,MAAAA,OAAO,EAAEJ,QAAQ,CAACK,IAAT,CAAcD;AAAzB,KAAd;AACA,SAAKE,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH,GALL;AAMH,CAPD;;AAQA,MAAMC,UAAU,GAAG,YAAY;AAC3B,QAAMlB,WAAW,CAACmB,GAAZ,CAAgB,aAAhB,EACDX,IADC,CACIY,MAAM,IAAI;AACZ,QAAIX,QAAQ,GAAGW,MAAM,CAACN,IAAP,CAAYD,OAA3B;;AAEA,QAAIJ,QAAQ,KAAK,gBAAjB,EAAkC;AAC9BV,MAAAA,UAAU,GAAG,IAAb;AACH,KAFD,MAEO;AACHA,MAAAA,UAAU,GAAG,KAAb;AACH;;AACDW,IAAAA,OAAO,CAACC,GAAR,CAAYS,MAAZ;AACA,WAAOX,QAAP;AACH,GAXC,EAYDY,KAZC,CAYKC,GAAG,IAAI;AACVZ,IAAAA,OAAO,CAACC,GAAR,CAAYW,GAAZ;AACH,GAdC,CAAN;AAeH,CAhBD;;AAkBA,SAAQvB,UAAR,EAAoBC,WAApB,EAAiCkB,UAAjC","sourcesContent":["import axios from 'axios';\n\nimport { serverApi } from '../config/cfg.js';\n\nvar isLoggedIn = false;\n\nconst instanceAxs = axios.create({\n    baseURL: serverApi,\n    withCredentials: true\n});\n\nconst login = async (user) => {\n    instanceAxs.post('/login', this.state.user)\n        .then(response => {\n            console.log(response)\n            this.setState({ message: response.data.message});\n            this.props.history.push('/');\n        })   \n}\nconst checkLogin = async () => {\n    await instanceAxs.get('/checklogin')\n        .then(result => {\n            let response = result.data.message;\n\n            if (response === \"user logged in\"){\n                isLoggedIn = true;\n            } else {\n                isLoggedIn = false;\n            }\n            console.log(result);\n            return response;\n        })\n        .catch(err => {\n            console.log(err);\n        })\n}\n\nexport {isLoggedIn, instanceAxs, checkLogin};"]},"metadata":{},"sourceType":"module"}